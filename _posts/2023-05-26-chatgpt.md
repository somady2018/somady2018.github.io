---
layout: post
title:  "ChatGPT API를 파이썬으로 활용하기"
subtitle: "(1)venv를 활용한 가상환경 만들기"
thumbnail-img: /assets/img/20230526_chatgpt_1.jpg
cover-img: /assets/img/20230526_cover.jpg
tags: [코알못의코딩공부, ChatGPT, API, python]
comments: true
---

Chat GPT3가 엄청난 이슈가 됐을 시점부터,<br>
잘은 모르겠지만 'API를 나도 쓸 수 있으면 좋겠는데' 라는 막연한 생각을 했었더랬는데,<br>
공식홈페이지 예제수준으로 내 파이썬코드로 불러오는 것까지는 성공했기에 포스팅을 해본다. <br>

깔린 파이썬 버젼만 여러개에 파이참, Vscode, Jupyter notebook, 구글 Colab.. 등등 다양하게 접해보기는 했는데<br>
막상 백지상태에서 시작을 해보려니 ChatGPT API를 활용하려면 맨 먼저 뭘 해야할 지부터 막막했기에 이번 기회에 정리를 해보려고 한다. 

   
##### 1. 우선 파이썬을 활용 할 가상환경부터 만들어주자! 

백지상태에서 무작정 .py 파일을 하나 만들고 예시코드를 넣어서 돌려보니 계속 오류만 났다. <br>
무언가 버젼이 안맞는건가 싶어 가상환경을 만들고 진행해보니 정상적으로 진행되었다. 

##### 가상환경이 왜필요할까? 
예를들어 Python을 이용한 프로젝트 1과  프로젝트 2가 있다. <br>
프로젝트 1 : Python 3.8 버젼과 장고 1.0을 사용<br>
프로젝트 2 : Python 3.11 버젼과 장고 2.0을 사용 <br>

이 떄에 우리가 사용하는 컴퓨터 PC 전역에 한 가지 버젼만 깐다면 장애가 일어날 것이다. <br>
PC는 한 대여도 다양한 Python 버젼과 라이브러리를 관리할 수 있도록 하기 위해,<br>
작성하는 각각의 프로젝트마다 '가상환경' 을 설정해주는 것이 필요한 것이다. 

##### 가상환경을 만드는 방법 
일반적으로 아나콘다와 venv 두가지를 많이 사용하는 것 같다. <br>
아나콘다는 무거운 프로그램을 설치하는 과정이 필요한 것으로 알고있는데, 나는 편리하게 venv 를 이용해 볼 것이다. <br>
vscode 프로그램을 이용하고 기존에 깔려있던 python 3.10.4 환경으로 이용하였는데 이상없이 잘 진행되었다. 


[공식문서 참고 링크]("https://docs.python.org/ko/3/library/venv.html"){:target="_blank"}

#### (1) VSCode에서 Terminal을 열어준다. 
일반 명령프롬프트 cmd 창도 무관할 것 같다. 
visual studio code를 이용한다면 터미널이 Powershell 이 아닌 Cmd 로 콘솔창이 선택된 것이 맞는 지 꼭 확인하자. 

#### (2) 원하는 파일명을 만들어준다. 여기서는 chatGPT_API 라고 해보았다. 
```
mkdir chatGPT_API
```

#### (3) 해당 폴더로 내 위치를 이동한다. 
```
cd chatGPT_API
```

#### (4) venv 명령어를 통해 가상환경을 만든다. 
```
python -m venv C:\path입력
```

제대로 되었다면, 해당 경로에 몇가지 하위폴더와 파일들이 생겼을 것이다. 
가상환경이 만들어진 것이다. 

#### (5) Scripts 폴더에서 가상환경을 활성화하는 명령어를 넣는다. 
```
cd C:\chatGPT_API\Scripts   #cd명령어를 통해 Scripts 로 디렉토리 이동. 
activate   #가상환경 활성화
```

Scripts라는 폴더의  activate.bat 라는 파일을 실행하도록 하여 활성화를 하는 것이다.
이 때 주의할것이 꼭 vscode의 terminal 창에서 powershell이 아닌 cmd 창으로 진행하고 있는게 맞는 지 확인하길 바란다. (나는 여기서 헤맸당...)<br>
활성화가 정상적으로 되고나면 콘솔창 내 현재경로 앞에 (파일명) 이 붙게되는데
이게 바로 가상환경에 들어왔음을 의미하는 것이다.  

#### (6) chatGPT API를 활용하기 위하여 openai 라이브러리 설치하기. 
```
pip install openai
```

#### (7) Python Interpreter 선택하기
이 부분은 정확하게 모르겠는데..... <br>
venv 가상환경 내에 내 기존 PC에 깔려있던 3.10.4 버젼의 파이썬이 기본으로 세팅이 된 것 같다. 
아마도 어떤 버젼에서도 크게 상관은 없을 것으로 보여진다.  
![캡쳐1](/assets/img/20230526_chatgpt_2.JPG)<br>


여기까지 진행되었으면 기본적으로 openai 에서 제공하는 API 활용을 위한 파이썬 준비완료!! 


